<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory</title>
</head>

<body>
    <style>
        #contenitore {
            text-align: center;
            background-color: aquamarine;
            display: grid;
            width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .card {
            border: 2px solid black;
            padding: 5px;
            margin: 5px;
            height: 30px;
        }
    </style>
    <div id="contenitore"></div>
    <script>
        let row = 4;
        let col = 4;
        document.getElementById("contenitore").style.gridTemplateColumns = "repeat(" + col + ", 1fr)"

        let array = []
        for (let i = 0; i < row * col / 2; i++) {
            array.push(i + 1)
            array.push(i + 1)

        }

        function smissia(array) {
            for (let i = 0; i < row * col; i++) {
                let a = Math.floor(Math.random() * 16)
                let b = Math.floor(Math.random() * 16)
                let c = array[a]
                array[a] = array[b]
                array[b] = c
            }
        }
        smissia(array)
        //disegna le card
        console.log(array)
        for (let i = 0; i < array.length; i++) {
            let s = "<div class='card'></div>";
            document.getElementById("contenitore").innerHTML += s;

        }
        //gira le card cliccate due a due,se sono uguali saranno mantenute girate
        //se diverse girale di nuovo
        let cards = document.getElementsByClassName("card");
        console.log(cards);
        let b = undefined
        let c = undefined
        for (let i = 0; i < cards.length; i++) {
            cards[i].addEventListener("click", () => {
                console.log(i, array[i])
                cards[i].innerHTML = array[i]

                if (b == undefined) {
                    b = i
                }else{
                    c=i;

                    if(array[b]==array[c]){
                        setTimeout(() => {
                            alert("trovato")

                            let clone = cards[b].cloneNode(false);
                            oldElement.parentNode.appendChild(clone);
                            oldElement.remove();

                            b = undefined
                            c = undefined
                        }, 500);
                    }else{
                        setTimeout(() => {
                            cards[b].innerHTML = ""
                            cards[c].innerHTML = ""

                            b = undefined
                            c = undefined
                        }, 500);
                    }

                    
                }





            })

        }



    </script>
</body>

</html>